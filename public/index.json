[{"authors":["JC"],"categories":null,"content":"Juan C. Castillo es profesor del Departamento de Sociología, Universidad de Chile.\n","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1585582766,"objectID":"9b5dd807a92ef9cf578125f1957a7629","permalink":"/authors/kjhealy/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/kjhealy/","section":"authors","summary":"Juan C. Castillo es profesor del Departamento de Sociología, Universidad de Chile.","tags":null,"title":"Juan Castillo","type":"authors"},{"authors":null,"categories":null,"content":"\rEsta página contiene los materiales de los contenidos de cada sesión (documento de presentación, lecturas, links), y también las guías prácticas.\nTodo el material es accesible desde el menú de la izquierda \u0026lt;–\n","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1585568305,"objectID":"108da05078d325a5a1f01a1ff2583053","permalink":"/class/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/class/","section":"class","summary":"Esta página contiene los materiales de los contenidos de cada sesión (documento de presentación, lecturas, links), y también las guías prácticas.\nTodo el material es accesible desde el menú de la izquierda \u0026lt;–","tags":null,"title":"Material","type":"docs"},{"authors":null,"categories":null,"content":"\rIf I assign readings, you really should read them.\n","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1585568956,"objectID":"40fcd2da3bf2dc718a2fe044c31cdc56","permalink":"/reading/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/reading/","section":"reading","summary":"If I assign readings, you really should read them.","tags":null,"title":"Reading","type":"docs"},{"authors":null,"categories":null,"content":"\rAquí se accede a las distintas guías prácticas desde el menú de la izquierda\r\r","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1585568305,"objectID":"3aa23ffb1eb3dedbe4d8a9c2165e2c58","permalink":"/assignment/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/assignment/","section":"assignment","summary":"\rAquí se accede a las distintas guías prácticas desde el menú de la izquierda\r\r","tags":null,"title":"Prácticas","type":"docs"},{"authors":null,"categories":null,"content":"\rÍndice\r\rDocumento presentación\rVideo de clase\rLecturas\r\r\rDocumento presentación\r\rAcceso en pantalla completa AQUÍ\n\rVideo de clase\r\r\rLecturas\r\rLinares (2018) La explicación en sociología\r\r\r","date":1578614400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586126367,"objectID":"ac47977a15b3902ca3402f61e5bf9df2","permalink":"/class/01-class/","publishdate":"2020-01-10T00:00:00Z","relpermalink":"/class/01-class/","section":"class","summary":"\rÍndice\r\rDocumento presentación\rVideo de clase\rLecturas\r\r\rDocumento presentación\r\rAcceso en pantalla completa AQUÍ\n\rVideo de clase\r\r\rLecturas\r\rLinares (2018) La explicación en sociología\r\r\r","tags":null,"title":"Presentación","type":"docs"},{"authors":null,"categories":null,"content":"\r\rpre  code.sourceCode { white-space: pre; position: relative; }\rpre  code.sourceCode  span { display: inline-block; line-height: 1.25; }\rpre  code.sourceCode  span:empty { height: 1.2em; }\rcode.sourceCode  span { color: inherit; text-decoration: inherit; }\rdiv.sourceCode { margin: 1em 0; }\rpre.sourceCode { margin: 0; }\r@media screen {\rdiv.sourceCode { overflow: auto; }\r}\r@media print {\rpre  code.sourceCode { white-space: pre-wrap; }\rpre  code.sourceCode  span { text-indent: -5em; padding-left: 5em; }\r}\rpre.numberSource code\r{ counter-reset: source-line 0; }\rpre.numberSource code  span\r{ position: relative; left: -4em; counter-increment: source-line; }\rpre.numberSource code  span  a:first-child::before\r{ content: counter(source-line);\rposition: relative; left: -1em; text-align: right; vertical-align: baseline;\rborder: none; display: inline-block;\r-webkit-touch-callout: none; -webkit-user-select: none;\r-khtml-user-select: none; -moz-user-select: none;\r-ms-user-select: none; user-select: none;\rpadding: 0 4px; width: 4em;\rcolor: #aaaaaa;\r}\rpre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }\rdiv.sourceCode\r{ background-color: #f8f8f8; }\r@media screen {\rpre  code.sourceCode  span  a:first-child::before { text-decoration: underline; }\r}\rcode span.al { color: #ef2929; } /* Alert */\rcode span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */\rcode span.at { color: #c4a000; } /* Attribute */\rcode span.bn { color: #0000cf; } /* BaseN */\rcode span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */\rcode span.ch { color: #4e9a06; } /* Char */\rcode span.cn { color: #000000; } /* Constant */\rcode span.co { color: #8f5902; font-style: italic; } /* Comment */\rcode span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */\rcode span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */\rcode span.dt { color: #204a87; } /* DataType */\rcode span.dv { color: #0000cf; } /* DecVal */\rcode span.er { color: #a40000; font-weight: bold; } /* Error */\rcode span.ex { } /* Extension */\rcode span.fl { color: #0000cf; } /* Float */\rcode span.fu { color: #000000; } /* Function */\rcode span.im { } /* Import */\rcode span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */\rcode span.kw { color: #204a87; font-weight: bold; } /* Keyword */\rcode span.op { color: #ce5c00; font-weight: bold; } /* Operator */\rcode span.ot { color: #8f5902; } /* Other */\rcode span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */\rcode span.sc { color: #000000; } /* SpecialChar */\rcode span.ss { color: #4e9a06; } /* SpecialString */\rcode span.st { color: #4e9a06; } /* String */\rcode span.va { color: #000000; } /* Variable */\rcode span.vs { color: #4e9a06; } /* VerbatimString */\rcode span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */\r\rÍndice\r\rPresentación\r\rObjetivo de la práctica\rAntecedentes de los datos a utilizar\rTutorial de instalación de R\r\rPreparacion de datos con ELSOC 2016\r\r1. Librerías\r2. Cargar base de datos\r\rAjuste y generación de variables\r\rSelección y renombre de variables\rDatos perdidos\rRecodificación de variables\rRecodificacion Variables percepcion de meritocracia\rRecodificacion variable Estatus subjetivo\rRecodificacion variables Estatus objetivo\r\rIngresos del hogar\rEducación\r\rVariables control\r\rMantener variables relevantes\r\r\rPresentación\rObjetivo de la práctica\rEl desarrollo de esta guía tiene por objetivo revisar algunos procedimientos básicos del procesamiento de datos con R, que son necesarios para luego poder aplicar los contenidos más específicos de este curso.\nEn este curso vamos a distinguir dos momentos del trabajo con datos: procesamiento y análisis.\n\rProcesamiento corresponde a lo que se conoce generalmente como “limpieza”, es decir, realizar las modificaciones necesarias para poder efectuar los análisis. Estas modificaciones previas al análisis son necesarias ya que los datos originales con los que se va a trabajar en general no vienen perfectamente adaptados a los análisis que se quieren hacer. Por lo tanto, en cuanto a datos también hacemos la distinción entre datos originales y datos procesados.\n\rAnálisis: se relaciona principalmente con análisis descriptivos asociados a las preguntas de investigación y también modelamiento de datos para contrastar hipótesis de investigación.\n\r\rTanto el procesamiento como el análisis quedan registrados en un documento de código, en este caso de código R (por lo general, un archivo con extensión .R). El documento de código de procesamiento posee 5 partes, más una sección de identificación inicial:\nIdentificación y descripción general: Título, autor(es), fecha, información breve sobre el contenido del documento\rLibrerías principales (de R) a utilizar en el análisis\rCarga de datos\rSelección de variables a utilizar\rProcesamiento de variables: en este punto, por cada variable\r\r\rDescriptivo general\rRecodificación de datos perdidos\rRecodificación de valores (en caso de ser necesario)\rEtiquetamiento /re-etiquetamiento (en caso de ser necesario)\r\rGeneración de base de datos procesada para el análisis.\r\rAl final de esta práctica la idea es que cada un_ elabore y entienda su propio documento de procesamiento de datos.\nEn el ejemplo vamos a procesar variables de meritocracia y estatus (objetivo y subjetivo) utilizando los datos de ELSOC.\n\rAntecedentes de los datos a utilizar\rEl Estudio Longitudinal Social de Chile (ELSOC) es una encuesta desarrollada para analizar intertemporalmente la evolución del conflicto y cohesión en la sociedad chilena.\nUno de los módulos de ELSOC es “Desigualdad y Legitimidad”. Este módulo busca estudiar las percepciones y atribuciones asociadas a las desigualdades sociales. Se ve motivado por el interés de comprender cómo las personas perciben, legitiman y reproducen las diferencias de ingresos, estatus y poder presentes en el Chile contemporáneo.\nEl presente ejercicio tiene por objetivo el procesar los datos para obtener las variables relevante para el estudio de la Percepción de Meritocracia, entendida como el grado en que los individuos consideran que su sociedad cumple con los principios de una meritocracia, es decir, que funciona como un sistema que asigna recompensas en función del esfuerzo y las habilidades.\n\rTutorial de instalación de R\rPara quienes no trabajan en R constantemente, va un primer tutorial abajo sobre instalación de R y RStudio, necesarios para poder desarrollar esta práctica:\n\r\r\r\rPreparacion de datos con ELSOC 2016\rRecomendación general: cargar en el preámbulo las librerías que más se utilizan durante el análisis. Si alguna función de una librería se utiliza pocas veces, es mejor utilizar una segunda forma de acceder a las funciones sin necesidad de cargar la librería. Por ejemplo, si quiero utilizar la función para recodificar recode de la librería car:\nelsoc$edcine \u0026lt;-car::recode(elsoc$m01, \u0026quot;c(1,2)=1; c(3)=2;c(4,5)=3;c(6,7)=4;c(8,9,10)=5\u0026quot;)\rEn este caso, la lógica es librería::función, y no se requiere cargar la librería pero sí debe estar previamente instalada. Para esto debemos ejecutar el siguiente código.\ninstall.packages(\u0026quot;car\u0026quot;)\r1. Librerías\rLas librerías que vamos a utilizar principalmente son dplyr (ajuste general de datos) y …\rDe todas maneras se recomienda realizar un comentario con el signo **#** luego de la librería a cargar para recordar su contenido.\nlibrary(dplyr) # ajuste general de datos\rlibrary(sjmisc) # descripcion de variables etiquetadas \rrm(list=ls()) # borrar todos los objetos en el environment\roptions(scipen=999) #sin notacion cientifica\r\r2. Cargar base de datos\rLas bases de datos se pueden cargar de un archivo local o en línea. Para este caso utilizaremos un archivo en línea que viene en formato RData: ELSOC_W01_v3.10.RData.\nLa base se agrega como un objeto al espacio de trabajo con el nombre original “elsoc_2016”. Para facilitar los análisis se le cambia el nombre simplemente a elsoc con la segunda instrucción\n#cargamos la base de datos desde internet\rload(url(\u0026quot;https://multivariada.netlify.com/assignment/data/original/ELSOC_W01_v3.10.RData\u0026quot;)) \r#creamos un objeto llamado elsoc que es identico a elsoc_2016, luego eliminamos elsoc_2016\relsoc \u0026lt;-elsoc_2016; remove(elsoc_2016) \rY realizamos un chequeo básico de la lectura de datos: nombres de las variables y tamaño de la base en términos de casos y variables (en este ejemplo, 2927 casos y 383 variables).\ndim(elsoc) # dimension de la base\r## [1] 2927 383\rY si se quiere revisar en formato de planilla de datos:\nView(elsoc)\r\r\rAjuste y generación de variables\rEsta parte inicial del análisis es usualmente la más tediosa y la más larga, y consiste en dejar los datos listos para ser analizados. Los procedimientos usuales son selección y renombramiento de las variables, identificación de casos perdidos, recodificaciones y generación de índices simples.\nSelección y renombre de variables\rEste paso es opcional y consiste en crear un subset de datos para continuar con los análisis, en lugar de hacerlo con la base completa. Para ello:\nSe identifica el nombre de las variables. Esto aparece en el libro de códigos y/o en el cuestionario, o también se puede hacer buscando en la base de datos mediante alguna palabra clave asociada a la pregunta. Por ejemplo, si queremos buscar variables asociadas a educación, utilizamos la función find_var, de sjmisc (entrega nombre de la variable en columna var.name)\r\rsjmisc::find_var(elsoc,\u0026quot;mensual\u0026quot;)\r## col.nr var.name var.label\r## 1 292 m13 Ingreso mensual entrevistado (monto)\r## 2 293 m14 Ingreso mensual del entrevistado (en tramos)\r\rDatos perdidos\r\rEn ELSOC todos los valores -888 y -999 corresponden a valores para las categorias “No sabe” y “No responde”, respectivamente.\rDecidimos dejarlas como valores perdidos (NA)\rel operador %in% sirve para decir “dentro de”, en este caso ¿dentro de la variable encontramos valores -888 o -999? Si es VERDADERO, se transforma en un NA, si es falso no realiza ninguna acción. El código de abajo ejemplifica este tipo de procedimiento.\r\rdatos$variable[datos$variable %in%c(-888,-999)] \u0026lt;-NA\rEntonces, aplicamos las siguientes línea de código para identificar y recodificar los datos perdidos como NA\nelsoc$c18_09[elsoc$c18_09 %in%c(-888,-999)] \u0026lt;-NA # meritocracia esfuerzo \relsoc$c18_10[elsoc$c18_10 %in%c(-888,-999)] \u0026lt;-NA # meritocracia talento\r\relsoc$d01_01[elsoc$d01_01 %in%c(-888,-999)] \u0026lt;-NA # estatus subjetivo\relsoc$m29[elsoc$m29 %in%c(-888,-999)] \u0026lt;-NA # ingreso familiar \relsoc$m30[elsoc$m30 %in%c(-888,-999)] \u0026lt;-NA # ingreso familiar en tramos\relsoc$nhogar1[elsoc$nhogar1 %in%c(-888,-999)]\u0026lt;-NA # personas en el hogar\relsoc$m01[elsoc$m01 %in%c(-888,-999)] \u0026lt;-NA # nivel educacional\r\relsoc$m0_sexo[elsoc$m0_sexo %in%c(-888,-999)] \u0026lt;-NA # sexo\relsoc$m0_edad[elsoc$m0_edad %in%c(-888,-999)] \u0026lt;-NA # edad\relsoc$c15[elsoc$c15 %in%c(-888,-999)] \u0026lt;-NA # autoposicionamiento politico\r\rRecodificación de variables\rIntroducción\nEn el caso de trabajar con R, el ajuste de las variables pasa por atender el distinto tipo de estructura, usualmente numérico (vector) o variable categórica (factor). Esta definición establece diferencias claras; por ejemplo, no se puede hacer un promedio con un factor, y los vectores númericos no tienen etiquetas. Dado que el límite entre lo categórico y lo continuo muchas veces es más relativo en ciencias sociales, para algunas operaciones resulta más eficiente contar con variables numéricas que puedan tener etiquetas, y que luego puedan ser transformadas a factor para operaciones específicas. En R este formato intermedio se denomina “vector atómico” o “vector etiquetado”.\nstr(elsoc[,c(1:10)]) #observamos las primeras 10 columnas de nuestra base de datos\r## \u0026#39;data.frame\u0026#39;: 2927 obs. of 10 variables:\r## $ idencuesta: num 1101011 1101012 1101013 1101021 1101022 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Folio identificador del encuestado\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%12.0g\u0026quot;\r## $ ola : num 1 1 1 1 1 1 1 1 1 1 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Ola de Encuesta\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%8.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num 1 2\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;2016\u0026quot; \u0026quot;2017\u0026quot;\r## $ version : num 201631 201631 201631 201631 201631 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Version de Base de Datos\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%20.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num 201631\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;Ola 2016 Version 3.1\u0026quot;\r## $ muestra : num 1 1 1 1 1 1 1 1 1 1 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Muestra de Participantes en Encuesta\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%19.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num 1 2\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;Muestra Original\u0026quot; \u0026quot;Muestra de Refresco\u0026quot;\r## $ t01 : num 1 3 3 3 2 2 3 3 2 3 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Cuanto confia usted en sus vecinos\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%21.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Muy poco\u0026quot; \u0026quot;Poco\u0026quot; ...\r## $ t02_01 : num 2 2 2 2 1 3 4 4 3 3 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Grado de acuerdo: Este es el barrio ideal para mi\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%30.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Totalmente en desacuerdo\u0026quot; \u0026quot;En desacuerdo\u0026quot; ...\r## $ t02_02 : num 3 4 1 3 2 2 3 4 3 2 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Grado de acuerdo: Me siento integrado/a en este barrio\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%30.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Totalmente en desacuerdo\u0026quot; \u0026quot;En desacuerdo\u0026quot; ...\r## $ t02_03 : num 3 1 2 4 1 3 3 3 5 3 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Grado de acuerdo: Me identifico con la gente de este barrio\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%30.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Totalmente en desacuerdo\u0026quot; \u0026quot;En desacuerdo\u0026quot; ...\r## $ t02_04 : num 3 3 2 4 1 4 3 3 5 4 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Grado de acuerdo: Este barrio es parte de mi\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%30.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Totalmente en desacuerdo\u0026quot; \u0026quot;En desacuerdo\u0026quot; ...\r## $ t03_01 : num 1 5 5 4 5 4 1 3 2 2 ...\r## ..- attr(*, \u0026quot;label\u0026quot;)= chr \u0026quot;Grado de acuerdo: En este barrio es facil hacer amigos\u0026quot;\r## ..- attr(*, \u0026quot;format.stata\u0026quot;)= chr \u0026quot;%30.0g\u0026quot;\r## ..- attr(*, \u0026quot;labels\u0026quot;)= Named num -999 -888 1 2 3 4 5\r## .. ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;No Responde (no leer)\u0026quot; \u0026quot;No Sabe (no leer)\u0026quot; \u0026quot;Totalmente en desacuerdo\u0026quot; \u0026quot;En desacuerdo\u0026quot; ...\rEn este caso, vemos que los diez vectores se definen como “haven_labelled”, que hace referencia a vectores numéricos etiquetados. Esto ocurre en el proceso de conversión mediante el paquete haven, que transforma de esta manera a los valores numéricos con etiqueta que vienen de Stata (.dta) o SPSS (.sav).\nLos vectores que que aparecen aquí se caracterizan por una serie de atributos (attr):\n\rlabel: etiqueta de la variable\rformat.stata: formato de la etiqueta de la variable\rlabels: niveles de respuesta de la variable (values) que están numerados\rnames: nombre de las etiquetas de los valores.\r\rEstos atributos luego van a facilitar algunas operaciones de recodificación y de descripción de los datos.\n\rRecodificacion Variables percepcion de meritocracia\rEn ELSOC, las variables que permiten medir la percepción de las personas con respecto al funcionamiento de la meritocracia en Chile son las siguientes:\n\r[c18_09]: “Grado de acuerdo: Las personas son recompensadas por sus esfuerzos” (1 = Totalmente en desacuerdo; 5 = Totalmente de acuerdo)\r[c18_10]: “Grado de acuerdo: Las personas son recompensada por su inteligencia” (1 = Totalmente en desacuerdo; 5 = Totalmente de acuerdo)\r\relsoc$c18_09 \u0026lt;-as.numeric(elsoc$c18_09) # Nos aseguramos de convertir las escalas liker a numericas\relsoc$c18_10 \u0026lt;-as.numeric(elsoc$c18_10) # Nos aseguramos de convertir las escalas liker a numericas\r# Variables meritocracia promedio -----------------------------------------\relsoc \u0026lt;-dplyr::rename(elsoc,meffort=c18_09) # cambio de nombre de la variable c18_09 a uno mas sustantivo\relsoc \u0026lt;-dplyr::rename(elsoc,mtalent=c18_10) # cambio de nombre de la variable c18_10 a uno mas sustantivo\r\r# creamos un indice promedio de percepcion de meritocracia usando ambas preguntas\relsoc$merit \u0026lt;-(elsoc$meffort+elsoc$mtalent)/2\r\r# re escalamos la variable de 1-5 a una de 0 a 100 (para facilitar interpretacion)\relsoc$merit \u0026lt;-\r(elsoc$merit-min(elsoc$merit,na.rm=T))/(max(elsoc$merit,na.rm=T)-min(elsoc$merit,na.rm=T))*100\r\rRecodificacion variable Estatus subjetivo\r\r[d01_01]: “Estatus Social Subjetivo: Donde se ubicaria ud. en la sociedad chilena” (0 = el nivel mas bajo; 10 = el nivel mas alto)\r\relsoc$ess \u0026lt;-as.numeric(elsoc$d01_01) # Estatus Social Subjetivo\rtable(elsoc$ess)\rsummary(elsoc$ess)\r## ## 0 1 2 3 4 5 6 7 8 9 10 ## 44 84 207 439 677 975 310 116 37 4 22 ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 0.00 3.00 5.00 4.33 5.00 10.00 12\r\rRecodificacion variables Estatus objetivo\rIngresos del hogar\rEsta variable en general tiene dos formas de preguntarse: en el monto directo en pesos, o en rangos de ingreso. Hay una tercera variante donde se pregunta por el monto directo, y quienes no responden luego se les pregunta por el rango. Este último es el caso de ELSOC.\n\r[m29] = ¿Cuál es el ingreso mensual que usted recibe por su actividad laboral, ocupación u oficio? (Ingreso líquido, es decir, después de descuentos de impuestos, salud, previsión u otros)\r[m30] = A continuación le presentamos un listado de rangos de ingreso. ¿Podría usted indicarme en cuál de ellos se encuentra considerando su ingreso líquido, es decir, su ingreso después de descuentos de impuestos, salud, previsión u otros?\r[nhogar1] = Tamaño del hogar (en número de personas)\r\rComo estas variables en general tienen muchos datos perdidos, para poder aprovechar la información lo ideal es combinarlas. Una posibilidad es la siguiente:\nCrear una variable de ingresos en pesos a partir de la pregunta de rangos, mediante la imputación del promedio del rango.\rCombinar las variables de ingreso\r(m30 \\(\\rightarrow\\) m29)\rPara tener mayor sensibilidad a las implicancias del ingreso, crear una variable de ingreso equivalente por hogar, dividiendo la variable de ingreso por el número de personas del hogar ((m29+m30)/nhogar1).\r\rsummary(elsoc$m29) # ingresos total ; NA == 587\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 0 267500 420000 2477852 700000 4000000000 587\rsummary(elsoc$m30) # ingresos tramos\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 1.000 3.000 6.000 7.415 11.000 20.000 2479\rsummary(elsoc$nhogar1) # tamannio del hogar\r## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 1.000 2.000 3.000 3.077 4.000 14.000\relsoc$m29[elsoc$m29==0] \u0026lt;-NA\r# Remplazar NA por media de categorias Ingreso -------------------------------#\relsoc$mean_tramos \u0026lt;-NA # creamos una variable vacia\r# remplazamos ...\relsoc$mean_tramos[elsoc$m30==1] \u0026lt;-110000\relsoc$mean_tramos[elsoc$m30==2] \u0026lt;-250000.5\relsoc$mean_tramos[elsoc$m30==3] \u0026lt;-305000.5\relsoc$mean_tramos[elsoc$m30==4] \u0026lt;-355000.5\relsoc$mean_tramos[elsoc$m30==5] \u0026lt;-400000.5\relsoc$mean_tramos[elsoc$m30==6] \u0026lt;-445000.5\relsoc$mean_tramos[elsoc$m30==7] \u0026lt;-490000.5\relsoc$mean_tramos[elsoc$m30==8] \u0026lt;-535000.5\relsoc$mean_tramos[elsoc$m30==9] \u0026lt;-585000.5\relsoc$mean_tramos[elsoc$m30==10]\u0026lt;-640000.5\relsoc$mean_tramos[elsoc$m30==11]\u0026lt;-700000.5\relsoc$mean_tramos[elsoc$m30==12]\u0026lt;-765000.5\relsoc$mean_tramos[elsoc$m30==13]\u0026lt;-845000.5\relsoc$mean_tramos[elsoc$m30==14]\u0026lt;-935000.5\relsoc$mean_tramos[elsoc$m30==15]\u0026lt;-1040000.5\relsoc$mean_tramos[elsoc$m30==16]\u0026lt;-1180000.5\relsoc$mean_tramos[elsoc$m30==17]\u0026lt;-1375000.5\relsoc$mean_tramos[elsoc$m30==18]\u0026lt;-1670000.5\relsoc$mean_tramos[elsoc$m30==19]\u0026lt;-2275000.5\relsoc$mean_tramos[elsoc$m30==20]\u0026lt;-3726106\rtable(elsoc$mean_tramos) # chequeamos\r## ## 110000 250000.5 305000.5 355000.5 400000.5 445000.5 490000.5 535000.5 ## 49 42 36 35 33 33 38 21 ## 585000.5 640000.5 700000.5 765000.5 845000.5 935000.5 1040000.5 1180000.5 ## 26 16 18 15 11 14 19 13 ## 1375000.5 1670000.5 2275000.5 3726106 ## 4 10 8 7\relsoc$m29 \u0026lt;-ifelse(test = (is.na(elsoc$m29)),#¿es el valor un NA?\r yes = elsoc$mean_tramos, #Si es verdadero, remplazar por el valor de mean_tramos\r no = elsoc$m29)# Si es falso, remplazar por el valor del m29\r\rsummary(elsoc$m29) # NA = 147\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 20000 280000 445000 2182986 700000 4000000000 147\r# cambiamos el nombre de las variables inghogar = m29; nhogar=nhogar1\relsoc \u0026lt;-dplyr::rename(elsoc, inghogar=m29, nhogar=nhogar1)\r# ingreso neto = ingreso del hogar / numero de personas en el hogar\relsoc$ingneto \u0026lt;-as.numeric(elsoc$inghogar/elsoc$nhogar)\r# logaritmo natural del ingreso neto (para normalizar la distribucion sesgada del ingreso)\relsoc$lningneto \u0026lt;-log(elsoc$ingneto)\r\rsummary(elsoc$ingneto)\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 7500 95000 150000 1028152 267500 2000000000 147\rsummary(elsoc$lningneto)\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 8.923 11.462 11.918 12.006 12.497 21.416 147\r#---Deciles (ingreso per capita hogar)------------------------------------------------\relsoc \u0026lt;-elsoc %\u0026gt;%dplyr::mutate(inc10h = dplyr::ntile(inghogar, 10)) # Crear Deciles de ingreso\relsoc$D10h \u0026lt;-factor(elsoc$inc10h, levels = c(1,2,3,4,5,6,7,8,9,10),\r labels = c(\u0026quot;D01\u0026quot;,\u0026quot;D02\u0026quot;,\u0026quot;D03\u0026quot;,\u0026quot;D04\u0026quot;,\u0026quot;D05\u0026quot;,\r \u0026quot;D06\u0026quot;,\u0026quot;D07\u0026quot;,\u0026quot;D08\u0026quot;,\u0026quot;D09\u0026quot;,\u0026quot;D10\u0026quot;));table(elsoc$D10h)\r## ## D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 ## 278 278 278 278 278 278 278 278 278 278\r\rEducación\r\r[m01] = ¿Cuál es su nivel educacional? Indique el tipo de estudio actual (si estudia actualmente) o el último tipo aprobado (si no estudia actualmente).\r\rtable(elsoc$m01) # Educacion en ELSOC\r## ## 1 2 3 4 5 6 7 8 9 10 ## 37 322 297 394 857 102 381 186 303 46\rsjmisc::frq(elsoc$m01)\r## ## Nivel educacional (x) \u0026lt;numeric\u0026gt;\r## # total N=2927 valid N=2925 mean=5.26 sd=2.20\r## ## val label frq raw.prc valid.prc cum.prc\r## -999 No Responde (no leer) 0 0.00 0.00 0.00\r## -888 No Sabe (no leer) 0 0.00 0.00 0.00\r## 1 Sin estudios 37 1.26 1.26 1.26\r## 2 Educacion Basica o Preparatoria incompleta 322 11.00 11.01 12.27\r## 3 Educacion Basica o Preparatoria completa 297 10.15 10.15 22.43\r## 4 Educacion Media o Humanidades incompleta 394 13.46 13.47 35.90\r## 5 Educacion Media o Humanidades completa 857 29.28 29.30 65.20\r## 6 Tecnica Superior incompleta 102 3.48 3.49 68.68\r## 7 Tecnica Superior completa 381 13.02 13.03 81.71\r## 8 Universitaria incompleta 186 6.35 6.36 88.07\r## 9 Universitaria completa 303 10.35 10.36 98.43\r## 10 Estudios de posgrado (magister o doctorado) 46 1.57 1.57 100.00\r## NA \u0026lt;NA\u0026gt; 2 0.07 NA NA\rRecodificación CINE 2011 (UNESCO)\n1. Sin estudios = [CINE 0 ] = 1\r2. Educacion Basica o Preparatoria incompleta = [CINE 0 ] = 1\r3. Educacion Basica o Preparatoria completa = [CINE 1,2 ] = 2\r4. Educacion Media o Humanidades incompleta = [CINE 3 ] = 3\r5. Educacion Media o Humanidades completa = [CINE 3 ] = 3\r6. Tecnico Superior incompleta = [CINE 5 ] = 4\r7. Tecnico Superior completa = [CINE 5 ] = 4\r8. Universitaria incompleta = [CINE 6 ] = 5\r9. Universitaria completa = [CINE 6 ] = 6\r10. Estudios de posgrado (magister o doctorado) = [CINE 7, 8] = 6\r# recodificacion usando funcion \u0026#39;recode\u0026#39; de la libreria car\relsoc$edcine \u0026lt;-car::recode(elsoc$m01, \u0026quot;c(1,2)=1; c(3)=2;c(4,5)=3;c(6,7)=4;c(8,9,10)=5\u0026quot;)\rround(prop.table(table(elsoc$edcine)), 3)\r## ## 1 2 3 4 5 ## 0.123 0.102 0.428 0.165 0.183\relsoc$edcine \u0026lt;-factor(elsoc$edcine,\r levels = c(1,2,3,4,5),\r labels=c(\u0026quot;Primaria incompleta menos\u0026quot;,\r \u0026quot;Primaria y secundaria baja\u0026quot;,\r \u0026quot;Secundaria alta\u0026quot;,\r \u0026quot;Terciaria ciclo corto\u0026quot;,\r \u0026quot;Terciaria y Postgrado\u0026quot;))\r\rsjmisc::frq(elsoc$edcine) #chequeamos\r## ## x \u0026lt;categorical\u0026gt;\r## # total N=2927 valid N=2925 mean=3.18 sd=1.21\r## ## val frq raw.prc valid.prc cum.prc\r## Primaria incompleta menos 359 12.27 12.27 12.27\r## Primaria y secundaria baja 297 10.15 10.15 22.43\r## Secundaria alta 1251 42.74 42.77 65.20\r## Terciaria ciclo corto 483 16.50 16.51 81.71\r## Terciaria y Postgrado 535 18.28 18.29 100.00\r## \u0026lt;NA\u0026gt; 2 0.07 NA NA\r\r\rVariables control\r\r[m0_sexo] = Indicar el sexo del entrevistado.\n\r[m0_edad] = ¿Cuáles su edad? (años cumplidos).\n\r[c15] = Cambiando de tema, tradicionalmente en nuestro país la gente define las posiciones políticas como más cercanas a la izquierda, al centro o a la derecha.\n\r\r#---Sexo----\relsoc$sexo \u0026lt;-car::recode(elsoc$m0_sexo, \u0026quot;1=1;2=0\u0026quot;)\relsoc$sexo \u0026lt;-factor(elsoc$sexo, levels = c(0,1), labels = c(\u0026quot;Hombre\u0026quot;,\u0026quot;Mujer\u0026quot;)) # Sexo\r#Hombre=0\r#Mujer=1\rsjmisc::frq(elsoc$sexo) #chequeamos \r## ## x \u0026lt;categorical\u0026gt;\r## # total N=2927 valid N=2927 mean=1.40 sd=0.49\r## ## val frq raw.prc valid.prc cum.prc\r## Hombre 1764 60.27 60.27 60.27\r## Mujer 1163 39.73 39.73 100.00\r## \u0026lt;NA\u0026gt; 0 0.00 NA NA\r#---Edad----\relsoc$edad \u0026lt;-as.numeric(elsoc$m0_edad) #Edad\rsummary(elsoc$edad) #chequeamos\r## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 18.00 33.00 46.00 46.09 58.00 88.00\r#---Posicion Politica----\r# PREGUNTA: \u0026quot;Autoubicacion escala izquierda-derecha\u0026quot;\r # (0 = izquierda; 10 = Derecha; 11 = Independiente; 12 =Ninguno)\relsoc$ppolcat \u0026lt;-car::recode(elsoc$c15, \u0026quot;c(0,1,2,3,4)=1;5=2;c(6,7,8,9,10)=3;11=4;12=5\u0026quot;)\relsoc$ppolcat \u0026lt;-factor(elsoc$ppolcat, levels = c(1,2,3,4,5),\r labels = c(\u0026quot;Izquierda/Centro Izquierda\u0026quot;,\r \u0026quot;Centro\u0026quot;,\r \u0026quot;Derecha/Centro Derecha\u0026quot;,\r \u0026quot;Independiente\u0026quot;,\r \u0026quot;Ninguno\u0026quot;))\rsjmisc::frq(elsoc$ppolcat) #chequeamos\r## ## x \u0026lt;categorical\u0026gt;\r## # total N=2927 valid N=2861 mean=3.20 sd=1.60\r## ## val frq raw.prc valid.prc cum.prc\r## Izquierda/Centro Izquierda 583 19.92 20.38 20.38\r## Centro 604 20.64 21.11 41.49\r## Derecha/Centro Derecha 409 13.97 14.30 55.78\r## Independiente 200 6.83 6.99 62.78\r## Ninguno 1065 36.39 37.22 100.00\r## \u0026lt;NA\u0026gt; 66 2.25 NA NA\r\r\rMantener variables relevantes\rEn última instancia se crea un subset que contiene solo las variables que se van a utilizar en el análisis, mediante la función select de dplyr.\n# selecccionamos las variables relevantes\relsoc_16 \u0026lt;-elsoc %\u0026gt;%dplyr::select(merit,ess,edcine,lningneto,D10h, sexo, edad,ppolcat)\r# dejamos solamente los casos con informacion completa (listwise deletion)\relsoc_16 \u0026lt;-na.omit(elsoc_16)\rnames(elsoc_16) # comprobamos los nombres de variables\r## [1] \u0026quot;merit\u0026quot; \u0026quot;ess\u0026quot; \u0026quot;edcine\u0026quot; \u0026quot;lningneto\u0026quot; \u0026quot;D10h\u0026quot; \u0026quot;sexo\u0026quot; ## [7] \u0026quot;edad\u0026quot; \u0026quot;ppolcat\u0026quot;\rhead(elsoc_16) #chequear\r## merit ess edcine lningneto D10h sexo edad ppolcat\r## 1 75.0 5 Primaria incompleta menos 11.22524 D03 Hombre 64 Independiente\r## 2 75.0 5 Secundaria alta 12.42922 D06 Hombre 60 Ninguno\r## 3 50.0 3 Secundaria alta 11.31040 D06 Hombre 26 Ninguno\r## 4 75.0 6 Terciaria y Postgrado 13.54763 D08 Mujer 51 Ninguno\r## 5 62.5 4 Secundaria alta 13.10216 D06 Mujer 69 Ninguno\r## 6 75.0 5 Secundaria alta 13.10216 D06 Mujer 62 Independiente\r# Guardar base de datos procesada ---------------------------------------------------------------\rsave(elsoc_16,file = \u0026quot;data/proc/ELSOC_ess_merit2016.RData\u0026quot;)\r\r","date":1578614400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586547593,"objectID":"9f719bf107561ff88768da3264c94b73","permalink":"/assignment/01-code/","publishdate":"2020-01-10T00:00:00Z","relpermalink":"/assignment/01-code/","section":"assignment","summary":"pre  code.sourceCode { white-space: pre; position: relative; }\rpre  code.sourceCode  span { display: inline-block; line-height: 1.25; }\rpre  code.sourceCode  span:empty { height: 1.2em; }\rcode.sourceCode  span { color: inherit; text-decoration: inherit; }\rdiv.sourceCode { margin: 1em 0; }\rpre.sourceCode { margin: 0; }\r@media screen {\rdiv.sourceCode { overflow: auto; }\r}\r@media print {\rpre  code.sourceCode { white-space: pre-wrap; }\rpre  code.","tags":null,"title":"Práctica 1. Procesamiento de datos en R","type":"docs"},{"authors":null,"categories":null,"content":"\rPresentación\rEl Estudio Longitudinal Social de Chile (ELSOC) es una encuesta desarrollada para analizar intertemporalmente la evolución del conflicto y cohesión en la sociedad chilena.\nUno de los módulos de ELSOC es “Desigualdad y Legitimidad”. Este módulo busca estudiar las percepciones y atribuciones asociadas a las desigualdades sociales. Se ve motivado por el interés de comprender cómo las personas perciben, legitiman y reproducen las diferencias de ingresos, estatus y poder presentes en el Chile contemporáneo.\nEl presente ejercicio tiene por objetivo el procesar los datos para obtener las variables relevante para el estudio de la Percepción de Meritocracia, entendida como el grado en que los individuos consideran que su sociedad cumple con los principios de una meritocracia, es decir, que funciona como un sistema que asigna recompensas en función del esfuerzo y las habilidades.\n\rPreparacion de datos con ELSOC 2016\rLibrerías y configuración\rlibrary(dplyr)\r## ## Attaching package: \u0026#39;dplyr\u0026#39;\r## The following objects are masked from \u0026#39;package:stats\u0026#39;:\r## ## filter, lag\r## The following objects are masked from \u0026#39;package:base\u0026#39;:\r## ## intersect, setdiff, setequal, union\rrm(list=ls()) # borrar todos los objetos en el enviorment\roptions(scipen=999) #sin notacion cientifica\rCargar base de datos\r\rEjemplo de ruta, debe remplazarla por la de su computador.\r\rsetwd(\u0026quot;C:/usuario/usted/multivariada/materiales/01material\u0026quot;) \r# buscammos la sub carpeta ... datos/original/ELSOC_W01_v3.10.RData\rload(\u0026quot;data/original/ELSOC_W01_v3.10.RData\u0026quot;)\relsoc \u0026lt;- elsoc_2016; remove(elsoc_2016)\r# load(\u0026quot;link/ELSOC_W01_v3.10.RData\u0026quot;)\r\rDatos perdidos\r\rEn ELSOC todos los valores -888 y -999 corresponden a valores para las categorias “No sabe” y “No responde”, respectivamente.\rDecidimos dejarlas como valores perdidos (NA)\r\rfor (i in 1:ncol(elsoc)) {\relsoc[,i][elsoc[,i] == c(-888)] \u0026lt;- NA #Missing elsoc[,i][elsoc[,i] == c(-999)] \u0026lt;- NA #Missing }\r\r\rRecodificacion Variables percepcion de meritocracia\r\r[c18_09]: “Grado de acuerdo: Las personas son recompensadas por sus esfuerzos” (1 = Totalmente en desacuerdo; 5 = Totalmente de acuerdo)\r[c18_10]: “Grado de acuerdo: Las personas son recompensada por su inteligencia” (1 = Totalmente en desacuerdo; 5 = Totalmente de acuerdo)\r\relsoc$c18_09 \u0026lt;- as.numeric(elsoc$c18_09) elsoc$c18_10 \u0026lt;- as.numeric(elsoc$c18_10) # Variables meritocracia promedio -----------------------------------------\relsoc \u0026lt;- rename(elsoc,meffort=c18_09) # cambio de nombre de la variable c18_09 a uno mas sustantivo elsoc \u0026lt;- rename(elsoc,mtalent=c18_10) # cambio de nombre de la variable c18_10 a uno mas sustantivo # creamos un indice promedio de percepcion de meritocracia usando ambas preguntas\relsoc$merit \u0026lt;- (elsoc$meffort+elsoc$mtalent)/2 # re escalamos la variable de 1-5 a una de 0 a 100 (para facilitar interpretacion) elsoc$merit \u0026lt;- (elsoc$merit-min(elsoc$merit,na.rm=T))/(max(elsoc$merit,na.rm=T)-min(elsoc$merit,na.rm=T))*100\r\rRecodificacion variable Estatus subjetivo\r\r[d01_01]: “Estatus Social Subjetivo: Donde se ubicaria ud. en la sociedad chilena” (0 = el nivel mas bajo; 10 = el nivel mas alto)\r\relsoc$ess \u0026lt;- as.numeric(elsoc$d01_01) # Estatus Social Subjetivo\rtable(elsoc$ess)\rsummary(elsoc$ess)\r## ## 0 1 2 3 4 5 6 7 8 9 10 ## 44 84 207 439 677 975 310 116 37 4 22 ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 0.00 3.00 5.00 4.33 5.00 10.00 12\r\rRecodificacion variables Estatus objetivo\rIngresos del hogar\rsummary(elsoc$m29) # ingresos total ; NA == 587\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 0 267500 420000 2477852 700000 4000000000 587\rsummary(elsoc$m30) # ingresos tramos \r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 1.000 3.000 6.000 7.415 11.000 20.000 2479\rsummary(elsoc$nhogar1) # tamannio del hogar\r## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 1.000 2.000 3.000 3.077 4.000 14.000\relsoc$m29[elsoc$m29==0] \u0026lt;- NA\r# Remplazar NA por media de categorias Ingreso -------------------------------#\relsoc$mean_tramos \u0026lt;- NA # creamos una variable vacia\r# remplazamos ...\relsoc$mean_tramos[elsoc$m30==1] \u0026lt;-110000\relsoc$mean_tramos[elsoc$m30==2] \u0026lt;-250000.5\relsoc$mean_tramos[elsoc$m30==3] \u0026lt;-305000.5\relsoc$mean_tramos[elsoc$m30==4] \u0026lt;-355000.5\relsoc$mean_tramos[elsoc$m30==5] \u0026lt;-400000.5\relsoc$mean_tramos[elsoc$m30==6] \u0026lt;-445000.5\relsoc$mean_tramos[elsoc$m30==7] \u0026lt;-490000.5\relsoc$mean_tramos[elsoc$m30==8] \u0026lt;-535000.5\relsoc$mean_tramos[elsoc$m30==9] \u0026lt;-585000.5\relsoc$mean_tramos[elsoc$m30==10]\u0026lt;-640000.5\relsoc$mean_tramos[elsoc$m30==11]\u0026lt;-700000.5\relsoc$mean_tramos[elsoc$m30==12]\u0026lt;-765000.5\relsoc$mean_tramos[elsoc$m30==13]\u0026lt;-845000.5\relsoc$mean_tramos[elsoc$m30==14]\u0026lt;-935000.5\relsoc$mean_tramos[elsoc$m30==15]\u0026lt;-1040000.5\relsoc$mean_tramos[elsoc$m30==16]\u0026lt;-1180000.5\relsoc$mean_tramos[elsoc$m30==17]\u0026lt;-1375000.5\relsoc$mean_tramos[elsoc$m30==18]\u0026lt;-1670000.5\relsoc$mean_tramos[elsoc$m30==19]\u0026lt;-2275000.5\relsoc$mean_tramos[elsoc$m30==20]\u0026lt;-3726106\rtable(elsoc$mean_tramos) # chequeamos\r## ## 110000 250000.5 305000.5 355000.5 400000.5 445000.5 490000.5 535000.5 ## 49 42 36 35 33 33 38 21 ## 585000.5 640000.5 700000.5 765000.5 845000.5 935000.5 1040000.5 1180000.5 ## 26 16 18 15 11 14 19 13 ## 1375000.5 1670000.5 2275000.5 3726106 ## 4 10 8 7\relsoc$m29 \u0026lt;- ifelse(test = (is.na(elsoc$m29)),#¿es el valor un NA? yes = elsoc$mean_tramos, #Si es verdadero, remplazar por el valor de mean_tramos\rno = elsoc$m29)# Si es falso, remplazar por el valor del m29\rsummary(elsoc$m29) # NA = 147\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 20000 280000 445000 2182986 700000 4000000000 147\r# cambiamos el nombre de las variables inghogar = m29; nhogar=nhogar1\relsoc \u0026lt;- rename(elsoc, inghogar=m29, nhogar=nhogar1) # ingreso neto = ingreso del hogar / numero de personas en el hogar\relsoc$ingneto \u0026lt;- as.numeric(elsoc$inghogar/elsoc$nhogar) # logaritmo natural del ingreso neto (para normalizar la distribucion sesgada del ingreso)\relsoc$lningneto \u0026lt;- log(elsoc$ingneto) summary(elsoc$ingneto)\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 7500 95000 150000 1028152 267500 2000000000 147\rsummary(elsoc$lningneto)\r## Min. 1st Qu. Median Mean 3rd Qu. Max. NA\u0026#39;s ## 8.923 11.462 11.918 12.006 12.497 21.416 147\r#---Deciles (ingreso per capita hogar)------------------------------------------------\relsoc \u0026lt;- elsoc %\u0026gt;% mutate(inc10h = ntile(inghogar, 10)) # Crear Deciles de ingreso\relsoc$D10h \u0026lt;- factor(elsoc$inc10h, levels = c(1,2,3,4,5,6,7,8,9,10), labels = c(\u0026quot;D01\u0026quot;,\u0026quot;D02\u0026quot;,\u0026quot;D03\u0026quot;,\u0026quot;D04\u0026quot;,\u0026quot;D05\u0026quot;,\r\u0026quot;D06\u0026quot;,\u0026quot;D07\u0026quot;,\u0026quot;D08\u0026quot;,\u0026quot;D09\u0026quot;,\u0026quot;D10\u0026quot;));table(elsoc$D10h)\r## ## D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 ## 278 278 278 278 278 278 278 278 278 278\r\rEducación\rtable(elsoc$m01) # Educacion en ELSOC\r## ## 1 2 3 4 5 6 7 8 9 10 ## 37 322 297 394 857 102 381 186 303 46\rRecodificación CINE 2011 (UNESCO)\n1. Sin estudios = [CINE 0 ] = 1\r2. Educacion Basica o Preparatoria incompleta = [CINE 0 ] = 1\r3. Educacion Basica o Preparatoria completa = [CINE 1,2 ] = 2\r4. Educacion Media o Humanidades incompleta = [CINE 3 ] = 3\r5. Educacion Media o Humanidades completa = [CINE 3 ] = 3\r6. Tecnico Superior incompleta = [CINE 5 ] = 4\r7. Tecnico Superior completa = [CINE 5 ] = 4\r8. Universitaria incompleta = [CINE 6 ] = 5\r9. Universitaria completa = [CINE 6 ] = 6\r10. Estudios de posgrado (magister o doctorado) = [CINE 7, 8] = 6\r# recodificacion usando funcion \u0026#39;recode\u0026#39; de la libreria car elsoc$edcine \u0026lt;- car::recode(elsoc$m01, \u0026quot;c(1,2)=1; c(3)=2;c(4,5)=3;c(6,7)=4;c(8,9,10)=5\u0026quot;) round(prop.table(table(elsoc$edcine)), 3)\r## ## 1 2 3 4 5 ## 0.123 0.102 0.428 0.165 0.183\relsoc$edcine \u0026lt;- factor(elsoc$edcine,\rlevels = c(1,2,3,4,5),\rlabels=c(\u0026quot;Primaria incompleta menos\u0026quot;,\r\u0026quot;Primaria y secundaria baja\u0026quot;,\r\u0026quot;Secundaria alta\u0026quot;,\r\u0026quot;Terciaria ciclo corto\u0026quot;,\r\u0026quot;Terciaria y Postgrado\u0026quot;))\rtable(elsoc$edcine) #chequeamos\r## ## Primaria incompleta menos Primaria y secundaria baja ## 359 297 ## Secundaria alta Terciaria ciclo corto ## 1251 483 ## Terciaria y Postgrado ## 535\r\r\rVariables control\r#---Sexo----\relsoc$sexo \u0026lt;- car::recode(elsoc$m0_sexo, \u0026quot;1=1;2=0\u0026quot;)\relsoc$sexo \u0026lt;- factor(elsoc$sexo, levels = c(0,1), labels = c(\u0026quot;Hombre\u0026quot;,\u0026quot;Mujer\u0026quot;)) # Sexo\r#Hombre=0\r#Mujer=1\r#---Edad----\relsoc$edad \u0026lt;- as.numeric(elsoc$m0_edad) #Edad\r#---Posicion Politica----\r# PREGUNTA: \u0026quot;Autoubicacion escala izquierda-derecha\u0026quot; # (0 = izquierda; 10 = Derecha; 11 = Independiente; 12 =Ninguno)\relsoc$ppolcat \u0026lt;- car::recode(elsoc$c15, \u0026quot;c(0,1,2,3,4)=1;5=2;c(6,7,8,9,10)=3;11=4;12=5\u0026quot;) elsoc$ppolcat \u0026lt;- factor(elsoc$ppolcat, levels = c(1,2,3,4,5), labels = c(\u0026quot;Izquierda/Centro Izquierda\u0026quot;,\r\u0026quot;Centro\u0026quot;,\r\u0026quot;Derecha/Centro Derecha\u0026quot;,\r\u0026quot;Independiente\u0026quot;,\r\u0026quot;Ninguno\u0026quot;))\r\r\rMantener variables relevantes\r# selecccionamos las variables relevantes\relsoc_16 \u0026lt;- elsoc %\u0026gt;% dplyr::select(merit,ess,edcine,lningneto,D10h, sexo, edad,ppolcat) # dejamos solamente los casos con informacion completa (listwise deletion)\relsoc_16 \u0026lt;- na.omit(elsoc_16)\rnames(elsoc_16) # comprobamos los nombres de variables\r## [1] \u0026quot;merit\u0026quot; \u0026quot;ess\u0026quot; \u0026quot;edcine\u0026quot; \u0026quot;lningneto\u0026quot; \u0026quot;D10h\u0026quot; \u0026quot;sexo\u0026quot; ## [7] \u0026quot;edad\u0026quot; \u0026quot;ppolcat\u0026quot;\rhead(elsoc_16) #chequear\r## merit ess edcine lningneto D10h sexo edad ppolcat\r## 1 75.0 5 Primaria incompleta menos 11.22524 D03 Hombre 64 Independiente\r## 2 75.0 5 Secundaria alta 12.42922 D06 Hombre 60 Ninguno\r## 3 50.0 3 Secundaria alta 11.31040 D06 Hombre 26 Ninguno\r## 4 75.0 6 Terciaria y Postgrado 13.54763 D08 Mujer 51 Ninguno\r## 5 62.5 4 Secundaria alta 13.10216 D06 Mujer 69 Ninguno\r## 6 75.0 5 Secundaria alta 13.10216 D06 Mujer 62 Independiente\r# Guardar base de datos procesada ---------------------------------------------------------------\rsave(elsoc_16,file = \u0026quot;data/proc/ELSOC_ess_merit2016.RData\u0026quot;)\r\r","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1585881306,"objectID":"96782a7dad874126bc6358fdb483b41e","permalink":"/assignment/01material/prep-datos/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/assignment/01material/prep-datos/","section":"assignment","summary":"Presentación\rEl Estudio Longitudinal Social de Chile (ELSOC) es una encuesta desarrollada para analizar intertemporalmente la evolución del conflicto y cohesión en la sociedad chilena.\nUno de los módulos de ELSOC es “Desigualdad y Legitimidad”. Este módulo busca estudiar las percepciones y atribuciones asociadas a las desigualdades sociales. Se ve motivado por el interés de comprender cómo las personas perciben, legitiman y reproducen las diferencias de ingresos, estatus y poder presentes en el Chile contemporáneo.","tags":null,"title":"Material 1. Procesamiento de datos en R","type":"assignment"},{"authors":null,"categories":null,"content":"\rOrganización general del curso\rVer en pantalla completa AQUÍ\n Material de presentaciones semanales\n Lecturas\n Prácticas\n\r\r\rUNIDAD 1\r\r\r\r\r\r\r\r\rSemana 1\rPresentación e introducción\r\r\r\r\r\r\r\r","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1585881306,"objectID":"3e223d7ba58b0122b42458e4cf52e04c","permalink":"/schedule/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/schedule/","section":"","summary":"\rOrganización general del curso\rVer en pantalla completa AQUÍ\n Material de presentaciones semanales\n Lecturas\n Prácticas\n\r\r\rUNIDAD 1\r\r\r\r\r\r\r\r\rSemana 1\rPresentación e introducción\r\r\r\r\r\r\r\r","tags":null,"title":"Planificación","type":"page"},{"authors":null,"categories":null,"content":"\r\rPropósito general del curso\rCompetencias a las que contribuye el curso\rSub-Competencias\r\rResultados de Aprendizaje\rSaberes / contenidos\rUNIDAD 1: Introducción al modelamiento de datos sociales\rUNIDAD 2: Regresión Lineal Simple y Múltiple\rUNIDAD 3: Regresión múltiple para variables dependientes categóricas\r\rMetodología (actualizado)\rEvaluación (actualizado) (detalles en pestaña Trabajos)\rRequisitos de aprobación\rBibliografía Obligatoria\rTextos principales.\rMODELOS CIENTÍFICOS (Unidad 1)\rMODELOS DE REGRESIÓN LINEAL (Unidad 2)\rMODELOS DE REGRESIÓN PARA VARIABLES CATEGÓRICAS (Unidad 3)\r\rSoftware\rPlataformas de comunicación y discusión\rVARIOS\rProgramación de sesiones\r\r\rPropósito general del curso\rAl finalizar el curso los estudiantes conocerán los fundamentos del análisis estadístico multivariado.\rSe espera que los estudiantes sean capaces de:\n\ridentificar las principales técnicas de análisis estadístico multivariado utilizadas en la investigación sociológica\rdepurar y preparar datos para la aplicación de distintas técnicas de análisis estadístico multivariado; corroborar las condiciones de aplicación de distintas técnicas de análisis estadístico multivariado\rutilizar software de análisis estadístico\rcontrastar hipótesis de investigación\relaborar reportes de resultados y conclusiones a partir de la aplicación de diferentes técnicas de análisis estadístico multivariado.\r\rComplementariamente se espera que los estudiantes adquieran herramientas que les permitan comunicar resultados de investigación en contextos sociales, profesionales y académicos.\n\rCompetencias a las que contribuye el curso\r\rDiseñar y desarrollar estrategias de investigación social.\n\rComunicar los saberes disciplinares de manera pertinente a las características de distintos contextos y audiencias, utilizando diversas estrategias y formatos.\n\r\rSub-Competencias\r\rDiseñar y aplicar diversas técnicas de recolección y producción de información empírica, pertinentes al objeto de estudio.\n\rInterpretar información empírica aplicando diversas técnicas, en función de un plan de análisis.\n\rDiseñar estrategias para comunicar los saberes disciplinares considerando las características de distintos contextos y audiencias.\n\rComunicar en forma oral y escrita los saberes disciplinares considerando distintos contextos y audiencias, haciendo un uso creativo de distintas estrategias.\n\r\r\r\rResultados de Aprendizaje\rAl finalizar el curso, los estudiantes:\n\rSerán capaces de explicar los conceptos y fundamentos teóricos y estadísticos de la investigación social basada en modelos predictivos para variables observadas y serán capaces de explicar su utilidad para la sociología.\rSerán capaces de preparar y depurar bases de datos para su análisis utilizando técnicas multivariadas, evaluando la pertinencia y la presencia de condiciones para la aplicación de modelos predictivos para variables observadas.\rSerán capaces de manejar software especializado y reportar los resultados de modelos predictivos para variables observadas cuantitativas y no cuantitativas.\r\r\rSaberes / contenidos\rUNIDAD 1: Introducción al modelamiento de datos sociales\r\rTipos de investigación (descriptiva vs relacional y explicativa) y su materialización en el análisis estadístico.\rLa explicación en ciencias sociales: su relación con el concepto de covariación; la explicación como dependencia robusta y como cadena causal y el trabajo con modelos.\rEl trabajo con modelos: tipos de modelos (modelo teórico, modelo normativo, modelo científico, modelo estadístico); la vinculación entre los modelos científicos y los modelos teóricos; los modelos estadísticos como tipo de modelo científico.\rCiencia abierta y modelamiento: transparencia, reproducibilidad y replicación.\r\r\rUNIDAD 2: Regresión Lineal Simple y Múltiple\r\rBases: varianza, covarianza y correlación.\rUsos y aplicaciones en ciencias sociales de la regresión lineal.\rSupuestos y condiciones de aplicación de la regresión lineal.\rManejo de casos influyentes\rProcedimientos de estimación e interpretación de parámetros.\rIntroducción de variables de control estadístico.\rCriterios de validez, capacidad predictiva y evaluación del ajuste de la regresión lineal.\rTemas avanzados de regresión lineal: introducción de predictores categóricos, estimación de efectos de interacción y mediación, y uso de herramientas gráficas como apoyo a la interpretación y análisis de datos.\r\r\rUNIDAD 3: Regresión múltiple para variables dependientes categóricas\r\rLimitaciones de la regresión lineal y potencialidades de la introducción de variables dependientes categóricas.\rConcepto y sentido de la función logística y funciones afines.\rSupuestos y condiciones de aplicación de la regresión para variables categóricas.\rProcedimientos de estimación e interpretación de parámetros de regresión logística.\rCriterios de validez, capacidad predictiva y evaluación del ajuste de la regresión Logística.\rGeneralización de modelos de regresión logística: modelo de regresión logística multinomial y ordinal.\rEmpleo de otras matrices de correlación (tetracórica, biserial y policórica).\r\r\r\rMetodología (actualizado)\rEn las circunstancias excepcionales de este semestre dada la crisis santiaria, se han realizado una serie de ajustes metodológicos. De todas maneras estos se irán actualizando en el transcurso del semestre según varíe la contingencia y también atendiendio a necesidades y sugerencias de l_s participantes.\nTendremos tres espacios principales de aprendizaje:\nSesiones de clases: mientras dure la emergencia se realizaran online mediante la plataforma Zoom para las dos secciones; eventualmente algunas de las clases serán reemplazadas por videos explicativos. Todo el material de presentaciones se encontrará disponible en este sitio.\n\rPrácticas guiadas: cada tema de las sesiones se acompaña de una guía práctica de aplicación de contenidos. Estas guías están diseñadas para ser desarrolladas de manera autónoma por cada estudiante semana a semana. También serán desarrolladas y revisadas cada semana separados por secciones, para dar mayor oportunidad de participación y resolver las dudas respectivas. Estas prácticas serán supervisadas principalmente por los apoyos docentes.\n\rTrabajos: se desarrollarán trabajos de investigación durante el semestre (ver sección evaluación abajo) que permitirán a l_s participantes aplicar contenidos y recibir retroalimentación de su desempeño. Los trabajos serán asesorados principalmente por ayudantes que se asignarán a cada grupo.\n\r\r\rEvaluación (actualizado) (detalles en pestaña Trabajos)\rEl curso tendrá tres instancias de evaluación:\n\rTrabajo 1 (individual): Correlación y regresión simple (20%).\rTrabajo 2 (grupal): Regresión multiple e inferencia estadística (30%)\rTrabajo 3 (grupal): Regresión logística, predictores categóricos y supuestos\r\rLa nota ponderada de los trabajos equivaldrá al 60% de la nota del curso y el examen final al 40% restante.\n\rRequisitos de aprobación\rNota mínima de aprobación: 4,0 (en escala de 1 a 7).\nRequisitos de eximición de examen:\ncontar con un promedio ponderado igual o superior a 5.5.\rno tener nota bajo 4 en ninguno de los trabajos\r\rRequisitos para presentación a examen:\n\rPodrán presentarse al examen de primera oportunidad los estudiantes que hayan obtenido una calificación final igual o superior a 3.5.\rEl examen de segunda oportunidad será para aquellos estudiantes que presenten una nota igual o inferior a 3.5 o aquellos que en el examen de primera oportunidad no hubiesen logrado una nota igual o superior a 4.0.\r\r\rBibliografía Obligatoria\rTextos principales.\rHay tres referencias principales recomendadas para este curso:\n\rDarlington, R. B., \u0026amp; Hayes, A. F. (2017). Regression analysis and linear models: concepts, applications, and implementation. Guilford Press. Este libro me parece un muy buen texto para acompañar un curso de regresión en ciencias sociales, lamentablemente está en inglés y por lo tanto solo es bibliografía sugerida. Los capítulos más relevantes estarán a disposición,\n\rWooldridge, J. M. (2008). Introducción a la econometría: un enfoque moderno. Paraninfo Cengage Learning. Libro clásico de regresión para economístas, la ventaja es que está en español, la desventaja (para nosotros) es que en ocasiones utiliza un lenguaje y ejemplos lejanos a la sociología.\n\rWickham, H., \u0026amp; Grolemund, G. (2016). R for data science: import, tidy, transform, visualize, and model data (First edition). Sebastopol: O’Reilly. Libro con enfoque en el aprendizaje de R con técnicas que ciertamente van más allá del curso, pero muy util como referencia general. Además, está disponible también en español como “R para ciencia de datos”.\n\r\rAbajo bilbiografía asociada a cada unidad\n\rMODELOS CIENTÍFICOS (Unidad 1)\r\rGarcía-Ferrando, M. (1985). Análisis y modelización causal en sociología. Reis, 29(1), 143-164.\rGoldthorpe, J. H. (2001). Causation, statistics, and sociology. European Sociological Review, 17(1), 1-20.\rRamón, L., \u0026amp; Ángeles, M. (2006). Estadística y causalidad en la sociología empírica del XX. Papers: revista de sociología, 80(1), 223-255.\rSalgado, M. (2009). Construyendo explicaciones: el uso de modelos en sociología. Persona y Sociedad, 30 (3), 29-60.\r\r\rMODELOS DE REGRESIÓN LINEAL (Unidad 2)\r\rEtxeberria, J. (1999). Regresión múltiple. Madrid: La Muralla.\rFox, J. \u0026amp; Weisberg, S. (2011) An R Companion to Applied Regression (149-183). London: Sage.\rPértega-Díaz, S., \u0026amp; Pita-Fernández, S. (2000). Técnicas de regresión: Regresión lineal múltiple. Cuadernos de atención primaria, 7(3), 173-176. En: https://dialnet.unirioja.es/servlet/articulo?codigo=2331162\rPértega-Díaz, S., \u0026amp; Pita-Fernández, S. (2000). Técnicas de regresión: Regresión lineal simple. Cuadernos de atención primaria, 7(2), 91-94. En: https://dialnet.unirioja.es/servlet/articulo?codigo=2331559\rGrolemund, G. \u0026amp; Wickam, H. (2017) R for Data Science. Disponible en: https://r4ds.had.co.nz/\r\r\rMODELOS DE REGRESIÓN PARA VARIABLES CATEGÓRICAS (Unidad 3)\r\rSilva LC, Barroso J. (2004). Regresión Logística. Cuaderno 27. Madrid: La Muralla.\rSilva LC. (1995). Excursión a la regresión logística en ciencias de la salud. Madrid: Díaz de Santos; 1995.\rJovell, A.J. (1995). Análisis de regresión logística, Cuadernos Metodológicos del CIS. Madrid.\r\r\r\rSoftware\rUsaremos R 3.6 a través de la interfaz de RStudio. También realizaremos ejercicios y prácticas online en RCloud.\n\rPlataformas de comunicación y discusión\r\rForos Ucursos\rEn evaluación\r\rDisquis\r\r\r\rVARIOS\r\rLas clases en general se acompañan de documentos de presentación, que estarán disponibles antes de la sesión en la página de Materiales, y están desarrollados con base en Rmarkdown/XaringanRmarkdown/ Xaringan. Estos documentos no son:\n\r“la clase”\rautoexplicativos (ni aspiran a serlo)\r“el ppt” (ni mucho menos “la ppt”)\r\rPolíticas de participación y trato: se espera y enfatiza la participación por distintos canales disponibles. También se enfatiza un trato respetuoso y horizontal. Quienes están tomando este curso serán referidos como participantes y/o estudiantes, evitar el uso de “l_s cabr_s” o “l_s chiquill_s”. Quien no se sienta tratad_ apropiadamente o vea que otr_s no lo estan siendo, se solicita reportar para solucionar la situación.\n\r\r\rProgramación de sesiones\rVisitar la página de Planificación.\n\r","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586126367,"objectID":"e4d5a4a79239f08c6ad0d7cbf1be756c","permalink":"/programa/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/programa/","section":"","summary":"Propósito general del curso\rCompetencias a las que contribuye el curso\rSub-Competencias\r\rResultados de Aprendizaje\rSaberes / contenidos\rUNIDAD 1: Introducción al modelamiento de datos sociales\rUNIDAD 2: Regresión Lineal Simple y Múltiple\rUNIDAD 3: Regresión múltiple para variables dependientes categóricas\r\rMetodología (actualizado)\rEvaluación (actualizado) (detalles en pestaña Trabajos)\rRequisitos de aprobación\rBibliografía Obligatoria\rTextos principales.\rMODELOS CIENTÍFICOS (Unidad 1)\rMODELOS DE REGRESIÓN LINEAL (Unidad 2)\rMODELOS DE REGRESIÓN PARA VARIABLES CATEGÓRICAS (Unidad 3)\r\rSoftware\rPlataformas de comunicación y discusión\rVARIOS\rProgramación de sesiones\r\r\rPropósito general del curso\rAl finalizar el curso los estudiantes conocerán los fundamentos del análisis estadístico multivariado.","tags":null,"title":"Programa","type":"page"},{"authors":null,"categories":null,"content":"\rRequired\r\rChapter 1 in Kieran Healy, Data Visualization [@Healy:2019]\rChapters 2 and 3 in Alberto Cairo, The Truthful Art [@Cairo:2016] (skim the introduction and chapter 1)\r\r\r","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1585881306,"objectID":"57c6d6996ee98125a5375a3865ff4c4c","permalink":"/reading/01-reading/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/reading/01-reading/","section":"reading","summary":"\rRequired\r\rChapter 1 in Kieran Healy, Data Visualization [@Healy:2019]\rChapters 2 and 3 in Alberto Cairo, The Truthful Art [@Cairo:2016] (skim the introduction and chapter 1)\r\r\r","tags":null,"title":"Truth, Beauty, and Data","type":"reading"}]